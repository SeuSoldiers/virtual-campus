<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<AnchorPane xmlns:fx="http://javafx.com/fxml/1"
            xmlns="http://javafx.com/javafx"
            fx:controller="seu.virtualcampus.ui.LibrarianController"
            style="-fx-font-family: 'Microsoft YaHei';
                   -fx-background-color: linear-gradient(to bottom, #e3f2fd, #bbdefb);
                   -fx-padding: 16;">

    <children>
        <TabPane tabClosingPolicy="UNAVAILABLE"
                 AnchorPane.topAnchor="0.0" AnchorPane.bottomAnchor="0.0"
                 AnchorPane.leftAnchor="0.0" AnchorPane.rightAnchor="0.0"
                 style="-fx-background-color: transparent; -fx-tab-min-width:120;">
            <tabs>

                <!-- å›¾ä¹¦ç®¡ç† -->
                <Tab text="ðŸ“š å›¾ä¹¦ç®¡ç†">
                    <content>
                        <VBox spacing="12" style="-fx-padding: 12;" AnchorPane.topAnchor="0.0"
                              AnchorPane.bottomAnchor="0.0" AnchorPane.leftAnchor="0.0" AnchorPane.rightAnchor="0.0">

                            <!-- æœç´¢æ  -->
                            <HBox spacing="10" alignment="CENTER">
                                <TextField fx:id="bookSearchField" promptText="è¾“å…¥ä¹¦å/ä½œè€…/ISBN/ç±»åˆ«"
                                           HBox.hgrow="ALWAYS"
                                           style="-fx-font-size: 14px; -fx-background-color: white;
                                                  -fx-background-radius: 8; -fx-border-color: #90caf9; -fx-border-radius: 8;"/>
                                <Button fx:id="btnSearchBook" text="æŸ¥è¯¢" onAction="#onSearchBook"
                                        style="-fx-background-color: #42a5f5; -fx-text-fill: white;
                                               -fx-background-radius: 8; -fx-padding: 6 20;"/>
                                <Button fx:id="btnRefreshBooks" text="åˆ·æ–°" onAction="#onRefreshBooks"
                                        style="-fx-background-color: #64b5f6; -fx-text-fill: white;
                                               -fx-background-radius: 8; -fx-padding: 6 20;"/>
                            </HBox>

                            <!-- è¡¨æ ¼ -->
                            <TableView fx:id="tableViewBooks" VBox.vgrow="ALWAYS"
                                       style="-fx-background-color: white;
                                              -fx-background-radius: 10;
                                              -fx-border-color: #e0e7ef; -fx-border-radius: 10;
                                              -fx-font-size: 14px;
                                              -fx-table-cell-border-color: transparent;
                                              -fx-selection-bar: #90caf9;
                                              -fx-selection-bar-non-focused: #bbdefb;">
                                <columns>
                                    <TableColumn fx:id="colIsbn" text="ISBN"/>
                                    <TableColumn fx:id="colTitle" text="ä¹¦å"/>
                                    <TableColumn fx:id="colAuthor" text="ä½œè€…"/>
                                    <TableColumn fx:id="colPublisher" text="å‡ºç‰ˆç¤¾"/>
                                    <TableColumn fx:id="colPublishDate" text="å‡ºç‰ˆæ—¥æœŸ"/>
                                    <TableColumn fx:id="colCategory" text="ç±»åˆ«"/>
                                    <TableColumn fx:id="colTotalCount" text="æ€»æ•°é‡"/>
                                    <TableColumn fx:id="colAvailableCount" text="å¯å€Ÿæ•°é‡"/>
                                    <TableColumn fx:id="colReservedCount" text="é¢„çº¦æ•°é‡"/>
                                </columns>
                            </TableView>

                            <!-- æ“ä½œæŒ‰é’® -->
                            <HBox spacing="12" alignment="CENTER">
                                <Button fx:id="btnBack" text="è¿”å›žé¦–é¡µ" onAction="#onBack"
                                        style="-fx-background-color: #42a5f5; -fx-text-fill: white;
                                               -fx-background-radius: 8; -fx-padding: 8 24;"/>

                                <Button fx:id="btnAddBook" text="å¢žåŠ å›¾ä¹¦" onAction="#onAddBook"
                                        style="-fx-background-color: #42a5f5; -fx-text-fill: white;
                                               -fx-background-radius: 8; -fx-padding: 8 24;"/>
                                <Button fx:id="btnDeleteBook" text="åˆ é™¤å›¾ä¹¦" onAction="#onDeleteBook"
                                        style="-fx-background-color: #ef5350; -fx-text-fill: white;
                                               -fx-background-radius: 8; -fx-padding: 8 24;"/>
                                <Button fx:id="btnEditBook" text="ä¿®æ”¹å›¾ä¹¦ä¿¡æ¯" onAction="#onEditBook"
                                        style="-fx-background-color: #64b5f6; -fx-text-fill: white;
                                               -fx-background-radius: 8; -fx-padding: 8 24;"/>
                                <Button fx:id="btnViewBookDetail" text="æŸ¥çœ‹è¯¦æƒ…" onAction="#onViewBookDetail"
                                        style="-fx-background-color: #90caf9; -fx-text-fill: white;
                                               -fx-background-radius: 8; -fx-padding: 8 24;"/>
                            </HBox>
                        </VBox>
                    </content>
                </Tab>

                <!-- å€Ÿé˜…ç®¡ç† -->
                <Tab text="ðŸ“– å€Ÿé˜…ç®¡ç†">
                    <content>
                        <VBox spacing="12" style="-fx-padding: 12;" AnchorPane.topAnchor="0.0"
                              AnchorPane.bottomAnchor="0.0" AnchorPane.leftAnchor="0.0" AnchorPane.rightAnchor="0.0">

                            <HBox spacing="10" alignment="CENTER">
                                <TextField fx:id="borrowSearchField" promptText="è¾“å…¥å€Ÿé˜…ID/å›¾ä¹¦ID/ä¹¦å/å€Ÿé˜…äººID"
                                           HBox.hgrow="ALWAYS"
                                           style="-fx-font-size: 14px; -fx-background-color: white;
                                                  -fx-background-radius: 8; -fx-border-color: #90caf9; -fx-border-radius: 8;"/>
                                <Button fx:id="btnSearchBorrow" text="æŸ¥è¯¢" onAction="#onSearchBorrow"
                                        style="-fx-background-color: #42a5f5; -fx-text-fill: white;
                                               -fx-background-radius: 8; -fx-padding: 6 20;"/>
                                <Button fx:id="btnRefreshBorrows" text="åˆ·æ–°" onAction="#onRefreshBorrows"
                                        style="-fx-background-color: #64b5f6; -fx-text-fill: white;
                                               -fx-background-radius: 8; -fx-padding: 6 20;"/>
                            </HBox>

                            <TableView fx:id="tableBorrows" VBox.vgrow="ALWAYS"
                                       style="-fx-background-color: white;
                                              -fx-background-radius: 10;
                                              -fx-border-color: #e0e7ef; -fx-border-radius: 10;
                                              -fx-font-size: 14px;
                                              -fx-table-cell-border-color: transparent;
                                              -fx-selection-bar: #90caf9;
                                              -fx-selection-bar-non-focused: #bbdefb;">
                                <columns>
                                    <TableColumn fx:id="colBorrowId" text="å€Ÿé˜…ID"/>
                                    <TableColumn fx:id="colBorrowBookId" text="å›¾ä¹¦ID"/>
                                    <TableColumn fx:id="colBorrowTitle" text="ä¹¦å"/>
                                    <TableColumn fx:id="colBorrowStudentId" text="å€Ÿé˜…äººID"/>
                                    <TableColumn fx:id="colBorrowDate" text="å€Ÿé˜…æ—¥æœŸ"/>
                                    <TableColumn fx:id="colBorrowDueDate" text="åº”è¿˜æ—¥æœŸ" />
                                    <TableColumn fx:id="colReturnDate" text="å½’è¿˜æ—¥æœŸ"/>
                                    <TableColumn fx:id="colBorrowRenewCount" text="ç»­å€Ÿæ¬¡æ•°" />
                                    <TableColumn fx:id="colBorrowStatus" text="çŠ¶æ€"/>
                                </columns>
                            </TableView>
                        </VBox>
                    </content>
                </Tab>

                <!-- é¢„çº¦ç®¡ç† -->
                <Tab text="ðŸ“ é¢„çº¦ç®¡ç†">
                    <content>
                        <VBox spacing="12" style="-fx-padding: 12;" AnchorPane.topAnchor="0.0"
                              AnchorPane.bottomAnchor="0.0" AnchorPane.leftAnchor="0.0" AnchorPane.rightAnchor="0.0">

                            <HBox spacing="10" alignment="CENTER">
                                <TextField fx:id="reservationSearchField" promptText="è¾“å…¥é¢„çº¦ID/å›¾ä¹¦ID/ä¹¦å/é¢„çº¦äººID"
                                           HBox.hgrow="ALWAYS"
                                           style="-fx-font-size: 14px; -fx-background-color: white;
                                                  -fx-background-radius: 8; -fx-border-color: #90caf9; -fx-border-radius: 8;"/>
                                <Button fx:id="btnSearchReservation" text="æŸ¥è¯¢" onAction="#onSearchReservation"
                                        style="-fx-background-color: #42a5f5; -fx-text-fill: white;
                                               -fx-background-radius: 8; -fx-padding: 6 20;"/>
                                <Button fx:id="btnRefreshReservations" text="åˆ·æ–°" onAction="#onRefreshReservations"
                                        style="-fx-background-color: #64b5f6; -fx-text-fill: white;
                                               -fx-background-radius: 8; -fx-padding: 6 20;"/>
                            </HBox>

                            <TableView fx:id="tableReservations" VBox.vgrow="ALWAYS"
                                       style="-fx-background-color: white;
                                              -fx-background-radius: 10;
                                              -fx-border-color: #e0e7ef; -fx-border-radius: 10;
                                              -fx-font-size: 14px;
                                              -fx-table-cell-border-color: transparent;
                                              -fx-selection-bar: #90caf9;
                                              -fx-selection-bar-non-focused: #bbdefb;">
                                <columns>
                                    <TableColumn fx:id="colReservationId" text="é¢„çº¦ID"/>
                                    <TableColumn fx:id="colReservationBookId" text="å›¾ä¹¦ID"/>
                                    <TableColumn fx:id="colReservationTitle" text="ä¹¦å"/>
                                    <TableColumn fx:id="colReservationStudentId" text="å€Ÿé˜…äººID"/>
                                    <TableColumn fx:id="colReserveDate" text="é¢„çº¦æ—¥æœŸ"/>
                                    <TableColumn fx:id="colQueuePosition" text="æŽ’é˜Ÿå·"/>
                                    <TableColumn fx:id="colReservationStatus" text="çŠ¶æ€"/>
                                </columns>
                            </TableView>
                        </VBox>
                    </content>
                </Tab>

            </tabs>
        </TabPane>
    </children>
</AnchorPane>
