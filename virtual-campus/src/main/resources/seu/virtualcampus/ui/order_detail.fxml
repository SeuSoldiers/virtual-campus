<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<VBox spacing="20.0" xmlns="http://javafx.com/javafx/11.0.1" xmlns:fx="http://javafx.com/fxml/1" fx:controller="seu.virtualcampus.ui.order.OrderDetailController">
   <padding>
      <Insets bottom="20.0" left="20.0" right="20.0" top="20.0" />
   </padding>
   
   <!-- 页面标题 -->
   <Label style="-fx-font-size: 24px; -fx-font-weight: bold; -fx-text-fill: #2d3a4a;" text="订单详情" />
   
   <!-- 订单基本信息 -->
   <VBox spacing="15.0" style="-fx-background-color: #f8f9fa; -fx-background-radius: 8; -fx-padding: 20;">
      <Label style="-fx-font-size: 18px; -fx-font-weight: bold; -fx-text-fill: #495057;" text="基本信息" />
      
      <GridPane hgap="15.0" vgap="12.0">
        <columnConstraints>
          <ColumnConstraints hgrow="NEVER" minWidth="120.0" />
          <ColumnConstraints hgrow="ALWAYS" />
          <ColumnConstraints hgrow="NEVER" minWidth="120.0" />
          <ColumnConstraints hgrow="ALWAYS" />
        </columnConstraints>
        
        <Label text="订单号:" style="-fx-font-weight: bold;" GridPane.columnIndex="0" GridPane.rowIndex="0" />
        <HBox spacing="10.0" alignment="CENTER_LEFT" GridPane.columnIndex="1" GridPane.rowIndex="0">
           <Label fx:id="orderIdLabel" style="-fx-text-fill: #007bff;" />
           <Button fx:id="copyOrderIdButton" text="复制" onAction="#copyOrderId" prefWidth="50" prefHeight="25"
                   style="-fx-font-size: 10px; -fx-background-color: #007bff; -fx-text-fill: white; -fx-background-radius: 4;" />
        </HBox>
        
        <Label text="订单状态:" style="-fx-font-weight: bold;" GridPane.columnIndex="2" GridPane.rowIndex="0" />
        <Label fx:id="orderStatusLabel" style="-fx-font-weight: bold;" GridPane.columnIndex="3" GridPane.rowIndex="0" />
        
        <Label text="订单金额:" style="-fx-font-weight: bold;" GridPane.columnIndex="0" GridPane.rowIndex="1" />
        <Label fx:id="totalAmountLabel" style="-fx-text-fill: #e74c3c; -fx-font-weight: bold;" GridPane.columnIndex="1" GridPane.rowIndex="1" />
        
        <Label text="支付方式:" style="-fx-font-weight: bold;" GridPane.columnIndex="2" GridPane.rowIndex="1" />
        <Label fx:id="paymentMethodLabel" GridPane.columnIndex="3" GridPane.rowIndex="1" />
        
        <Label text="创建时间:" style="-fx-font-weight: bold;" GridPane.columnIndex="0" GridPane.rowIndex="2" />
        <Label fx:id="createTimeLabel" GridPane.columnIndex="1" GridPane.rowIndex="2" />
        
        <Label text="支付时间:" style="-fx-font-weight: bold;" GridPane.columnIndex="2" GridPane.rowIndex="2" />
        <Label fx:id="payTimeLabel" GridPane.columnIndex="3" GridPane.rowIndex="2" />
        
        <Label text="发货时间:" style="-fx-font-weight: bold;" GridPane.columnIndex="0" GridPane.rowIndex="3" />
        <Label fx:id="deliveryTimeLabel" GridPane.columnIndex="1" GridPane.rowIndex="3" />
        
        <Label text="确认时间:" style="-fx-font-weight: bold;" GridPane.columnIndex="2" GridPane.rowIndex="3" />
        <Label fx:id="confirmTimeLabel" GridPane.columnIndex="3" GridPane.rowIndex="3" />
      </GridPane>
   </VBox>
   
   <!-- 商品清单 -->
   <VBox spacing="15.0" style="-fx-background-color: #ffffff; -fx-background-radius: 8; -fx-padding: 20; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.1), 10, 0, 0, 2);">
      <Label style="-fx-font-size: 18px; -fx-font-weight: bold; -fx-text-fill: #495057;" text="商品清单" />
      
      <TableView fx:id="orderItemsTable" prefHeight="300.0" style="-fx-background-color: transparent;">
        <columns>
          <TableColumn fx:id="productNameColumn" prefWidth="250.0" text="商品名称" />
          <TableColumn fx:id="productPriceColumn" prefWidth="120.0" text="单价" />
          <TableColumn fx:id="quantityColumn" prefWidth="100.0" text="数量" />
          <TableColumn fx:id="subtotalColumn" prefWidth="120.0" text="小计" />
        </columns>
      </TableView>
   </VBox>
   
   <!-- 操作按钮 -->
   <HBox spacing="15.0" alignment="CENTER_RIGHT" style="-fx-padding: 10 0;">
      <Button fx:id="refreshButton" text="刷新" onAction="#refreshOrderDetail" prefWidth="80" prefHeight="40"
              style="-fx-font-size: 14px; -fx-background-color: #17a2b8; -fx-text-fill: white; -fx-background-radius: 6;" />
      <Button fx:id="confirmButton" text="确认收货" onAction="#confirmOrder" visible="false" prefWidth="120" prefHeight="40"
              style="-fx-font-size: 14px; -fx-background-color: #28a745; -fx-text-fill: white; -fx-background-radius: 6;" />
      <Button text="返回首页" onAction="#goBackToHome" prefWidth="120" prefHeight="40"
              style="-fx-font-size: 14px; -fx-background-color: #6c757d; -fx-text-fill: white; -fx-background-radius: 6;" />
   </HBox>
</VBox>
