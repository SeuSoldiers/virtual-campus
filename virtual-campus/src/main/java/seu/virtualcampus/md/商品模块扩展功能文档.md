# å•†å“æ¨¡å—æ‰©å±•åŠŸèƒ½å®ç°æ–‡æ¡£

## ğŸ‰ æ–°å¢åŠŸèƒ½

### 1. åº“å­˜ç®¡ç†åŠŸèƒ½

#### å¢åŠ åº“å­˜
- **Mapperæ–¹æ³•**: `increaseStock(String productId, Integer quantity)`
- **Serviceæ–¹æ³•**: `increaseStock(String productId, Integer quantity)`
- **Controlleræ¥å£**: `PUT /api/products/stock/increase`
- **åŠŸèƒ½**: å¢åŠ æŒ‡å®šå•†å“çš„åº“å­˜æ•°é‡

**ä½¿ç”¨ç¤ºä¾‹**:
```bash
PUT /api/products/stock/increase?productId=PROD123&quantity=50
```

### 2. å•†å“æœç´¢åŠŸèƒ½

#### å…³é”®è¯æœç´¢
- **Mapperæ–¹æ³•**: `searchProducts(String keyword)`
- **Serviceæ–¹æ³•**: `searchProducts(String keyword)`
- **Controlleræ¥å£**: `GET /api/products/search`
- **åŠŸèƒ½**: æ ¹æ®å•†å“åç§°æˆ–ç±»å‹è¿›è¡Œæ¨¡ç³Šæœç´¢

**ä½¿ç”¨ç¤ºä¾‹**:
```bash
GET /api/products/search?keyword=æ‰‹æœº
```

### 3. åº“å­˜é¢„è­¦åŠŸèƒ½

#### ä½åº“å­˜å•†å“æŸ¥è¯¢
- **Mapperæ–¹æ³•**: `selectLowStockProducts(Integer threshold)`
- **Serviceæ–¹æ³•**: `getLowStockProducts(Integer threshold)`
- **Controlleræ¥å£**: `GET /api/products/low-stock`
- **åŠŸèƒ½**: æŸ¥è¯¢åº“å­˜ä½äºæŒ‡å®šé˜ˆå€¼çš„å•†å“ï¼ˆé»˜è®¤é˜ˆå€¼10ï¼‰

**ä½¿ç”¨ç¤ºä¾‹**:
```bash
GET /api/products/low-stock?threshold=5
```

### 4. æ‰¹é‡æ“ä½œåŠŸèƒ½

#### æ‰¹é‡æ·»åŠ å•†å“
- **Mapperæ–¹æ³•**: `insertBatch(List<Product> products)` (XMLå®ç°)
- **Serviceæ–¹æ³•**: `addProductsBatch(List<Product> products)`
- **Controlleræ¥å£**: `POST /api/products/batch`
- **åŠŸèƒ½**: ä¸€æ¬¡æ€§æ·»åŠ å¤šä¸ªå•†å“

**ä½¿ç”¨ç¤ºä¾‹**:
```bash
POST /api/products/batch
Content-Type: application/json

[
  {
    "productId": "PROD001",
    "productName": "å•†å“1",
    "productPrice": 99.99,
    "availableCount": 100,
    "productType": "ç”µå­äº§å“"
  },
  {
    "productId": "PROD002",
    "productName": "å•†å“2",
    "productPrice": 199.99,
    "availableCount": 50,
    "productType": "å®¶å±…ç”¨å“"
  }
]
```

#### æ‰¹é‡åˆ é™¤å•†å“
- **Mapperæ–¹æ³•**: `deleteByIds(List<String> productIds)` (XMLå®ç°)
- **Serviceæ–¹æ³•**: `removeProductsByIds(List<String> productIds)`
- **Controlleræ¥å£**: `DELETE /api/products/batch`
- **åŠŸèƒ½**: ä¸€æ¬¡æ€§åˆ é™¤å¤šä¸ªå•†å“

**ä½¿ç”¨ç¤ºä¾‹**:
```bash
DELETE /api/products/batch
Content-Type: application/json

["PROD001", "PROD002", "PROD003"]
```

## ğŸ“‹ å®Œæ•´æ¥å£åˆ—è¡¨

### æ–°å¢æ¥å£æ€»è§ˆ

| HTTPæ–¹æ³• | è·¯å¾„ | åŠŸèƒ½ | å‚æ•° |
|----------|------|------|------|
| PUT | `/api/products/stock/increase` | å¢åŠ åº“å­˜ | `productId`, `quantity` |
| GET | `/api/products/search` | å•†å“æœç´¢ | `keyword` |
| GET | `/api/products/low-stock` | åº“å­˜é¢„è­¦ | `threshold`(å¯é€‰ï¼Œé»˜è®¤10) |
| POST | `/api/products/batch` | æ‰¹é‡æ·»åŠ  | `List<Product>` |
| DELETE | `/api/products/batch` | æ‰¹é‡åˆ é™¤ | `List<String>` |

## ğŸ”§ æŠ€æœ¯å®ç°ç‰¹ç‚¹

### 1. åº“å­˜ç®¡ç†
- **å®‰å…¨æ€§**: å¢åŠ åº“å­˜ç›´æ¥ç´¯åŠ ï¼Œå‡å°‘åº“å­˜æœ‰åº“å­˜æ£€æŸ¥
- **åŸå­æ€§**: ä½¿ç”¨æ•°æ®åº“å±‚é¢çš„åŸå­æ“ä½œ

### 2. æœç´¢åŠŸèƒ½
- **æ¨¡ç³ŠåŒ¹é…**: ä½¿ç”¨ `LIKE` å’Œ `CONCAT` å®ç°æ¨¡ç³Šæœç´¢
- **å¤šå­—æ®µæœç´¢**: åŒæ—¶æœç´¢å•†å“åç§°å’Œç±»å‹

### 3. åº“å­˜é¢„è­¦
- **çµæ´»é˜ˆå€¼**: æ”¯æŒè‡ªå®šä¹‰é¢„è­¦é˜ˆå€¼
- **é»˜è®¤å€¼**: æä¾›åˆç†çš„é»˜è®¤é˜ˆå€¼

### 4. æ‰¹é‡æ“ä½œ
- **é«˜æ€§èƒ½**: ä½¿ç”¨ MyBatis çš„ `<foreach>` å®ç°æ‰¹é‡æ“ä½œ
- **æ··åˆå®ç°**: ç®€å•æ–¹æ³•ç”¨æ³¨è§£ï¼Œå¤æ‚æ‰¹é‡æ“ä½œç”¨XML

## ğŸ“„ æ–‡ä»¶ä¿®æ”¹æ€»ç»“

### ä¿®æ”¹çš„æ–‡ä»¶
1. **ProductMapper.java** - æ·»åŠ 5ä¸ªæ–°æ–¹æ³•
2. **ProductService.java** - æ·»åŠ 5ä¸ªå¯¹åº”çš„ä¸šåŠ¡æ–¹æ³•
3. **ProductController.java** - æ·»åŠ 5ä¸ªRESTæ¥å£
4. **æ–°å»º ProductMapper.xml** - å®ç°æ‰¹é‡æ“ä½œçš„SQL

### ä»£ç ç‰¹ç‚¹
- **é£æ ¼ä¸€è‡´**: ä¸ç°æœ‰ä»£ç å®Œå…¨ä¿æŒä¸€è‡´
- **ç²¾ç®€å®ç°**: æ¯ä¸ªåŠŸèƒ½åªå…³æ³¨æ ¸å¿ƒé€»è¾‘
- **RESTfulè§„èŒƒ**: APIè®¾è®¡ç¬¦åˆRESTæ ‡å‡†
- **é”™è¯¯å¤„ç†**: ç»Ÿä¸€çš„é”™è¯¯è¿”å›æ ¼å¼

## ğŸš€ ä½¿ç”¨åœºæ™¯

1. **åº“å­˜ç®¡ç†**: 
   - è¿›è´§æ—¶å¢åŠ åº“å­˜
   - é”€å”®æ—¶å‡å°‘åº“å­˜
   - å®šæœŸæ£€æŸ¥ä½åº“å­˜å•†å“

2. **å•†å“æœç´¢**:
   - ç”¨æˆ·åœ¨å‰ç«¯æœç´¢å•†å“
   - ç®¡ç†å‘˜å¿«é€ŸæŸ¥æ‰¾å•†å“

3. **æ‰¹é‡æ“ä½œ**:
   - åˆå§‹åŒ–å•†å“æ•°æ®
   - æ‰¹é‡å¯¼å…¥/åˆ é™¤å•†å“
   - æé«˜æ“ä½œæ•ˆç‡

ç°åœ¨æ‚¨çš„å•†å“æ¨¡å—åŠŸèƒ½æ›´åŠ å®Œå–„ï¼Œæ”¯æŒå®Œæ•´çš„å•†å“ç”Ÿå‘½å‘¨æœŸç®¡ç†ï¼
